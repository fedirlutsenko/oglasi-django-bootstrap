{% extends 'base.html' %}
{% load static %}

{% block page_specific_styles %}
  <link rel="stylesheet" href="{% static 'css/homepage.css' %}">
{% endblock %}

{% block content %}
  <header class="p-3 border-bottom header header-homepage">
    <div class="container-fluid text-center text-light">
      {% include 'includes/menu.html' %}
    </div>
  </header>

  <section class="home-search">
    <div class="container-fluid">
      <div class="home-content">
        <div class="text-center home-text">
          <h1>Pronadjite dom vaših snova</h1>
        </div>

        <div class="home-search-form p-3">
          <form method="post" action="">
            {% csrf_token %}
            <div class="row justify-content-sm-center">
              <div class="col col-md-auto">
                <div class="input-group mb-3">
                  <button id="btnBuy" class="btn btn-blue" type="button">Prodaja</button>
                  <button id="btnRent" class="btn btn-transparent" type="button">Izdavanje</button>
                  <input type="hidden" name="search_type" value="buy" id="search_type">
                </div>
              </div>
            </div>
            <div class="mx-auto search-form-row">
              <div class="row">
                <div class="col mx-auto">
                  <div class="input-group mb-3">
                    <input type="text" class="form-control input-location" name="location" id="location" aria-label="Lokacija" placeholder="Lokacija">
                    <select class="form-select select-listing-type" name="type" id="type">
                      <option selected>Tip...</option>
                      <option value="1">One</option>
                      <option value="2">Two</option>
                      <option value="3">Three</option>
                    </select>
                    <input type="text" class="form-control input-area" name="neighbourhood" id="neighbourhood" aria-label="Kraj" placeholder="Kraj">
                    <button class="btn btn-outline btn-white btn-details" type="button" id="btnFormDetails">Detaljnije
                    </button>
                    <button class="btn btn-blue btn-search" type="submit" id="inputGroupFileAddon04">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                           class="bi bi-search" viewBox="0 0 16 16">
                        <path
                            d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                      </svg>
                      Pretrazi
                    </button>
                  </div>
                </div>
                </div>
            </div>

            <div id="detailsForm" class="mx-auto detail-form hide">
              <div class="row mb-3">
              <div class="col-lg-4">
                <label for="price" class="form-label">Cena</label>
                <div class="row">
                  <div class="col-md-6">
                    <input type="text" class="form-control" id="price" name="price_from" placeholder="od">
                  </div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" id="price" name="price_to" placeholder="do">
                  </div>
                </div>
              </div>
              <div class="col">
                <label for="size" class="form-label">Površina</label>
                <div class="row">
                  <div class="col-md-6">
                    <input type="text" class="form-control" id="size_to" name="size_from" placeholder="od">
                  </div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" id="size_from" name="size_to" placeholder="do">
                  </div>
                </div>
              </div>
              <div class="col">
                <label for="structure" class="form-label">Struktura</label>
                <select class="form-select" id="structure" name="structure" required="">
                  <option value="">Izaberite...</option>
                  <option>0.5</option>
                  <option>1</option>
                  <option>1.5</option>
                  <option>2.0</option>
                  <option>2.5</option>
                </select>
              </div>
              <div class="col">
                <label for="condition" class="form-label">Stanje</label>
                <select class="form-select" id="condition" name="condition" required="">
                  <option value="">Izaberite...</option>
                  <option>United States</option>
                </select>
              </div>
            </div>
              <div class="row">
              <div class="col-lg-4">
                <label for="levels" class="form-label">Spratnost</label>
                <div class="row">
                  <div class="col-md-6">
                    <input type="text" class="form-control" id="levels" name="levels_from" placeholder="od">
                  </div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" id="levels" name="levels_to" placeholder="do">
                  </div>
                </div>
              </div>
              <div class="col">
                <label for="garage" class="form-label">Garažni prostor</label>
                <select class="form-select" id="garage" name="garage" required="">
                  <option value="">Izaberite...</option>
                  <option>United States</option>
                </select>
              </div>
              <div class="col">
                <label for="heating" class="form-label">Grejanje</label>
                <select class="form-select" id="heating" name="heating" required="">
                  <option value="">Izaberite...</option>
                  <option>United States</option>
                </select>
              </div>
              <div class="col text-center">
                <h5>Broj oglasa:</h5>
                <h5>1.083</h5>
              </div>
            </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  <section class="featured-properties p-4 px-3">
    <div class="container-fluid">
      <h2 class="text-center mb-4">Preporučeni oglasi</h2>
      <div id="carouselExampleIndicators" class="carousel carousel-dark slide" data-bs-ride="true">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                  aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                  aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                  aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner pb-5" style="height: 780px;">
          <div class=" carousel-item active">
            <div class="row">
              {% for listing in listings %}
              <div class="col-xxl-3 col-md-6 col-sm-12  mb-4">
                {% include 'includes/listings/listing_card.html' with listing=listing %}
              </div>
              {% endfor %}
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/property/2.jpg' %}" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/property/3.jpg' %}" class="d-block w-100" alt="...">
          </div>
        </div>
      </div>
    </div>
  </section>

  {% include 'includes/property_cities.html' %}

  <div class="break-bg mb-3"></div>

  <section class="agencies-break p-3">
    <div class="container-fluid">
      <div class="row">
        <div id="carouselAgencies" class="carousel carousel-dark slide pb-4" data-bs-ride="true">
          <div class="carousel-indicators mb-0">
            <button type="button" data-bs-target="#carouselAgencies" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselAgencies" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselAgencies" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <div class="row">
                <div class="col">
                  <div class="card shadow-sm">
                    <img src="{% static 'images/property/fp1.jpg' %}" class="d-block w-100" alt="...">
                  </div>
                </div>
                <div class="col">
                  <div class="card shadow-sm">
                    <img src="{% static 'images/property/fp1.jpg' %}" class="d-block w-100" alt="...">
                  </div>
                </div>
                <div class="col">
                  <div class="card shadow-sm">
                    <img src="{% static 'images/property/fp1.jpg' %}" class="d-block w-100" alt="...">
                  </div>
                </div>
                <div class="col">
                  <div class="card shadow-sm">
                    <img src="{% static 'images/property/fp1.jpg' %}" class="d-block w-100" alt="...">
                  </div>
                </div>
                <div class="col">
                  <div class="card shadow-sm">
                    <img src="{% static 'images/property/fp1.jpg' %}" class="d-block w-100" alt="...">
                  </div>
                </div>
                <div class="col">
                  <div class="card shadow-sm">
                    <img src="{% static 'images/property/fp1.jpg' %}" class="d-block w-100" alt="...">
                  </div>
                </div>
              </div>
            </div>
            <div class="carousel-item">
                            ovde idu jos slajdova za agencije kada ih bude
            </div>
            <div class="carousel-item">
                            ovde idu jos slajdova za agencije kada ih bude
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="blog-news p-3">
    <h2 class="text-center mb-4">Blog i Vesti</h2>
    <div class="container-fluid">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 mb-3">
        <div class="col-lg-6">
          <div class="card shadow">
            <img src="{% static 'images/placeholders/blog_cover.jpg' %}" height="212" alt="Blog cover" />

            <div class="card-body">
              <h5>Kako do stambenog kredita?</h5>
              <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="blog-user">Admin</p>
                <small class="text-muted">30.10.2022.</small>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="card shadow">
            <img src="{% static 'images/property/pc3.jpg' %}" height="212" alt="Blog cover" />

            <div class="card-body">
              <h5>Kako do stambenog kredita?</h5>
              <p class="card-text clip-text">This is a wider card with supporting text below as a natural lead-inThis content is a little bit longer. </p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="blog-user">Admin</p>
                <small class="text-muted">30.10.2022.</small>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="card shadow">
            <img src="{% static 'images/property/pc3.jpg' %}" height="212" alt="Blog cover" />

            <div class="card-body">
              <h5>Kako do stambenog kredita?</h5>
              <p class="card-text clip-text">This is a wider card with supporting text below as a natural lead-inThis content is a little bit longer. </p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="blog-user">Admin</p>
                <small class="text-muted">30.10.2022.</small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 mb-3">
        <div class="col-lg-4">
          <div class="card shadow">
            <img src="{% static 'images/property/pc3.jpg' %}" height="212" alt="Blog cover" />

            <div class="card-body">
              <h5>Kako do stambenog kredita?</h5>
              <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="blog-user">Admin</p>
                <small class="text-muted">30.10.2022.</small>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card shadow">
            <img src="{% static 'images/property/pc3.jpg' %}" height="212" alt="Blog cover" />

            <div class="card-body">
              <h5>Kako do stambenog kredita?</h5>
              <p class="card-text clip-text">This is a wider card with supporting text below as a natural lead-inThis content is a little bit longer. </p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="blog-user">Admin</p>
                <small class="text-muted">30.10.2022.</small>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card shadow">
            <img src="{% static 'images/property/pc3.jpg' %}" height="212" alt="Blog cover" />

            <div class="card-body">
              <h5>Kako do stambenog kredita?</h5>
              <p class="card-text clip-text">This is a wider card with supporting text below as a natural lead-inThis content is a little bit longer. </p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="blog-user">Admin</p>
                <small class="text-muted">30.10.2022.</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="loyalty-program p-4 text-center">
    <h3 class="mb-4">Loyalty program</h3>
    <p>S obzirom da smo novi na tržištu nekretnina kao portal, spremili smo za naše korisnike tkzv “loyalty program”. Program kao što sam naziv kaže, lojalnost za sve naše korisnike koji startuju sa nama na ovom putovanju imaće povoljnije uslove i veće mogućnosti u upravljanju i promovisanju svojih oglasa. Više na stranici cenovnik o detaljima.</p>
  </section>
{% endblock %}

{% block page_specific_scripts %}
  <script>
    const detailForm = document.getElementById('detailsForm');
    const detailBtn = document.getElementById('btnFormDetails');
    detailBtn.onclick = function(event) {
      detailForm.classList.toggle('show')
    }

    const btnBuy = document.getElementById('btnBuy');
    const btnRent = document.getElementById('btnRent');
    const searchType = document.getElementById('search_type');
    const toggleBtnClasses = function(value) {
      btnBuy.classList.toggle('btn-blue');
      btnBuy.classList.toggle('btn-transparent');
      btnRent.classList.toggle('btn-transparent');
      btnRent.classList.toggle('btn-blue');
      searchType.value = value;
    }
    btnRent.onclick = function() {
      toggleBtnClasses('rent');
    }
    btnBuy.onclick = function() {
      toggleBtnClasses('buy');
    }

  </script>
{% endblock %}
