{% extends 'base.html' %}
{% load static %}

{% block page_specific_styles %}
  <link rel="stylesheet" href="{% static 'css/listings.css' %}">
{% endblock %}

{% block content %}
  <section class="half-map-listing-section">

    <div class="container-fluid h-100">
      
      <!-- Filters -->
      <div class="row">
        <div class="col-lg-12 d-flex border-top border-bottom">
          {% include 'includes/listings/listings_filter_top.html' %}
        </div>
      </div>

      <!-- Listings and Map -->
      <div class="d-flex justify-content-center full-screen-row">

        <div class="col h-100 overflow-y-scroll">
          <div class="container-fluid">
            <!-- Pagination and Sort -->
            <div class="row pt-2 pb-2" >
              <p class="col-4 m-auto">Rezultata: {{ listings.paginator.count }}</p>
              {% include 'includes/listings/listings_pagination.html' %}
              {% include 'includes/listings/listings_sorting.html' %}
            </div>
        
            <!-- Listing Items -->
            <div class="row mb-3">
              {% for listing in listings %}
              <div class="col-xxl-6 col-md-6 col-sm-12  pb-5">
                {% include 'includes/listings/listing_overlay_card.html' with listing=listing %}
              </div>
              {% endfor %}
            </div>
          </div>
        </div>

        <!-- Map -->
        <div class="col h-100">
          {% include 'includes/listings/listings_map.html' with listing=listing %}
        </div>

      </div>

    </div>
  </section>
{% endblock %}

{% block page_specific_scripts %}
  <script src="{% static 'js/helpers.js' %}"></script>
{% endblock %}
